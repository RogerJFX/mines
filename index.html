<html>
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="styles.css">
	<script src="./game.js"></script>
	<script src="./ui.js"></script>
	<script>	
		const initialSettings = '[16,16,40]';
		
		window.addEventListener('load', () => {
			
			$ms.controller.subscribeFlagCount((i, o) => {
				document.getElementById('flagCount').innerHTML = i + ' of ' + o;
			});
			
			$ms.ui.init(document.getElementById('stage'), $ms.controller);
			
			$ms.controller.notifyLoaded(initialSettings);
			
			document.getElementById('gameSelect').addEventListener('change', (event) => {
				$ms.controller.startGame(event.srcElement.value);
				event.srcElement.value = '';
			});
			
		});
	</script>
</head>
<body>
	<div class="outerContainer">
	<div class="container">
		<div id="stage"></div>
		<br />
		<select id="gameSelect">
			<option value="">New game</option>
			<option value="[8,8,10]">8 x 8, 10 mines</option>
			<option value="[16,16,40]">16 x 16, 40 mines</option>
			<option value="[30,16,99]">30 x 16, 99 mines</option>
			<option value="[36,22,169]">40 x 20, 169 mines</option>
		</select>
		<span id="flagCountL">ğŸš©&nbsp;</span><span id="flagCount">0</span>
	</div></div>
</body>
</html>
